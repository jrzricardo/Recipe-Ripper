<h1><%= @recipe.new_record? ? 'New Recipe' : 'Edit Recipe' %></h1>

<%= form_with(model: @recipe, local: true) do |form| %>
  <div>
    <%= form.label :name %>
    <%= form.text_field :name %>
  </div>

  <div>
    <%= form.label :author %>
    <%= form.text_field :author %>
  </div>

  <div>
    <%= form.label :ingredients %>
    <%= form.text_area :ingredients, value: @recipe.ingredients.join("\n") %>
  </div>

  <div>
    <%= form.label :instructions %>
    <%= form.text_area :instructions, value: @recipe.instructions.join("\n") %>
  </div>

  <%= form.submit %>
<% end %>

<% if @recipe.new_record? %>
  <h2>Or extract from URL:</h2>
  <%= form_tag(extract_recipes_path, method: :post) do %>
    <%= url_field_tag :url, nil, placeholder: 'Enter recipe URL' %>
    <%= submit_tag 'Extract Recipe' %>
  <% end %>
<% end %>

<%= link_to 'Back', recipes_path %>
